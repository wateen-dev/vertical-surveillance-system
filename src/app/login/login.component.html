<form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)" class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="login-container">
        <mat-card class="login-card">
          <mat-card-header class="card-header">
            <mat-card-title class="lblHeading" id="lblHeading">
              <div class="spinner-overlay" *ngIf="isLoading">
                <div class="spinner"></div>
              </div>
              <svg width="107" height="64" viewBox="0 0 107 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M46.7987 37.3761C47.8143 37.3497 48.8298 37.3409 49.8453 37.3892C49.8143 39.2738 49.8409 41.1629 49.832 43.0519C50.9229 43.065 52.0094 43.0563 53.0959 43.0694C53.0826 43.9217 53.0959 44.7696 53.1092 45.6218C52.0183 45.6218 50.9274 45.6174 49.8409 45.6218C49.8143 50.1291 49.8498 54.6363 49.8187 59.1392C49.801 59.8641 50.0138 60.7339 50.75 61.0458C51.597 61.5114 52.6081 61.5071 53.5305 61.2962C53.5349 62.0913 53.5305 62.8821 53.5349 63.6772C52.0272 63.9891 50.3997 64.2176 48.9229 63.664C47.5792 63.172 46.7499 61.7531 46.7943 60.3605C46.7899 55.4403 46.8076 50.52 46.7854 45.6042C45.7876 45.6218 44.781 45.6174 43.7787 45.6174C43.7566 44.7608 43.7521 43.9041 43.792 43.0519C44.8031 42.9684 45.8719 43.2452 46.8386 42.8893C46.7455 41.053 46.8165 39.2123 46.7987 37.3673M28.5635 45.0551C27.4681 46.1314 26.8606 47.6206 26.8429 49.1494C27.854 49.1802 28.8695 49.1626 29.8806 49.1538C29.8983 47.3351 31.3485 45.8415 33.0425 45.345C34.9715 44.7959 37.4017 45.1693 38.639 46.8694C39.1179 47.6734 39.5304 48.6662 39.2111 49.6019C38.6079 50.2081 37.7432 50.419 36.9538 50.6738C34.4172 51.4733 31.6944 51.8467 29.375 53.213C27.6278 54.1575 26.0934 55.8356 26.089 57.9048C25.7785 61.1951 28.9404 64.055 32.1556 63.9847C34.9405 64.0243 37.7166 62.9084 39.5969 60.8569C39.7255 61.674 39.8142 62.557 40.3463 63.2379C41.5082 64.3757 43.3087 64.0067 44.7233 63.6113C44.7765 62.557 44.7898 61.4983 44.679 60.4483C44.3863 60.9316 43.8674 61.1688 43.3042 61.1249C42.8386 60.7471 42.3286 60.2858 42.3641 59.6312C42.3286 56.0421 42.3641 52.453 42.3464 48.8683C42.3818 46.1402 40.1202 43.8163 37.5747 43.109C34.5148 42.1249 30.8606 42.74 28.5635 45.0551ZM30.1954 56.0729C32.7675 53.9071 36.2709 53.6567 39.3175 52.4925C39.2909 54.2102 39.3663 55.9279 39.2865 57.6412C38.7942 59.0777 37.5082 60.0486 36.2443 60.8086C34.2487 61.6344 31.721 61.9068 29.9915 60.3649C29.0247 59.1348 28.8739 57.114 30.1954 56.0729ZM58.8609 43.3023C57.2201 44.0798 55.7966 45.3406 54.9452 46.9441C53.0161 50.4322 52.8077 54.7901 54.3021 58.4758C55.1536 60.5625 56.7412 62.39 58.8255 63.3302C61.5749 64.4328 64.9541 64.1912 67.3533 62.3901C68.7679 61.3753 69.7081 59.8772 70.4043 58.3177C70.524 57.9267 70.6526 57.5357 70.7901 57.1492C69.7347 57.2019 68.6792 57.136 67.6282 57.2414C67.0916 58.5725 66.2845 59.886 65.0118 60.6284C63.3577 61.6784 61.0472 61.7003 59.4685 60.4923C57.3266 59.0294 56.5461 56.376 56.3022 53.9334C61.3 53.8983 66.3023 54.0169 71.2957 53.8719C71.1715 52.1147 71.1183 50.3092 70.422 48.6574C69.5262 46.0084 67.3976 43.6933 64.6437 42.9069C62.7457 42.4105 60.6525 42.4764 58.8565 43.2891M58.7235 46.7596C59.9696 45.4241 62.0051 44.8135 63.7612 45.4153C66.2712 46.3115 67.4774 48.9385 68.0273 51.3459C64.1914 51.3591 60.3598 51.3459 56.5239 51.3547C56.7545 49.6458 57.5483 48.0248 58.719 46.7596M77.9166 43.0167C80.1649 42.3226 82.7636 42.4281 84.8036 43.6757C86.879 44.7871 88.2715 46.8738 88.9544 49.0659C89.522 50.6123 89.6196 52.2773 89.6373 53.9071C84.6794 53.9686 79.717 53.9159 74.7591 53.9378C74.8522 55.9191 75.4553 57.9531 76.7503 59.4994C77.7481 60.6636 79.2425 61.4851 80.8168 61.384C83.2825 61.4192 85.3091 59.3896 86.0142 57.1799C87.0519 57.1711 88.0896 57.1755 89.1273 57.1799C88.4178 59.7982 86.6661 62.2714 84.0763 63.3302C81.7082 64.301 78.9011 64.2132 76.6261 63.0227C74.6305 61.9288 73.2159 60.0002 72.4708 57.896C71.4775 55.1152 71.4864 52.0269 72.3245 49.2109C73.1626 46.4916 75.1227 43.9612 77.9166 43.0255M78.4532 45.7756C76.4842 46.9573 75.1627 49.1275 74.9897 51.3987C78.7769 51.3284 82.573 51.3635 86.3646 51.3767C86.0364 49.2021 84.9721 46.9529 82.9809 45.8195C81.6284 44.998 79.8235 44.9628 78.4576 45.7756M94.0276 45.6042C95.9611 43.0958 99.4689 42.1996 102.502 42.8498C104.662 43.2979 106.547 45.1474 106.587 47.4054C106.657 52.8044 106.595 58.2035 106.613 63.6025C105.602 63.6113 104.591 63.6113 103.575 63.6113C103.575 58.6076 103.575 53.604 103.575 48.6003C103.562 47.0539 102.289 45.7492 100.844 45.3362C99.2871 45.0331 97.7172 45.6745 96.4268 46.5004C95.3979 47.2956 94.2804 48.2796 94.0808 49.6239C94.0321 54.2981 94.1163 58.9723 94.0365 63.6465C93.052 63.5893 92.0631 63.5937 91.0742 63.6465C90.9766 56.7845 91.0564 49.9138 91.0342 43.0475C92.032 43.0475 93.0298 43.0519 94.0276 43.0255C94.0808 43.8865 94.0764 44.7476 94.0276 45.6042ZM0.0044322 43.0607C1.03327 43.0299 2.06211 43.0299 3.09094 43.0563C4.48785 48.3675 5.95128 53.6611 7.45462 58.9459C8.88258 53.6435 10.3771 48.3587 11.8094 43.0563C12.7718 43.0343 13.7341 43.0299 14.692 43.0475C15.8184 47.1945 16.9891 51.324 18.0978 55.471C18.4348 56.6352 18.7009 57.8169 19.1177 58.9591C20.4969 53.6435 22.0579 48.3762 23.4238 43.0607C24.4437 43.0343 25.4681 43.0255 26.4881 43.0343C26.2885 44.2907 25.8628 45.4944 25.5302 46.7157C23.9958 52.3475 22.386 57.9575 20.8871 63.5981C19.7297 63.6069 18.5723 63.6377 17.4193 63.5586C16.0711 58.2342 14.6432 52.9318 13.264 47.6162C11.8804 52.9626 10.4746 58.3089 9.02892 63.6377C7.90696 63.5937 6.78499 63.5981 5.66747 63.6245C3.74727 56.8724 1.96454 50.0763 0 43.3374V43.0607H0.0044322Z" fill="white"/>
                <mask id="mask0_40000394_4294" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="87" y="9" width="19" height="25">
                <path d="M96.6662 10.9299C94.134 12.5378 92.7017 15.279 91.4777 17.9017C90.4577 20.0279 89.9522 22.3387 89.2781 24.5879C88.7193 26.1386 88.2848 27.8036 87.2116 29.0952C87.7171 30.58 88.5553 32.0605 89.9433 32.8864C91.0165 33.4838 92.2671 33.0972 93.358 32.7502C93.7349 32.5964 93.8901 32.1703 94.134 31.8716C95.4023 30.1056 95.7793 27.9266 96.3469 25.8795C97.327 22.6725 98.3336 19.4436 99.9345 16.4783C100.626 15.2702 101.354 14.049 102.405 13.1089C102.946 12.63 103.571 12.1907 104.303 12.0633C104.822 11.9579 105.323 12.1819 105.833 12.2303C105.793 11.9447 105.935 11.5493 105.637 11.3692C104.183 10.3808 102.391 9.81409 100.617 9.81409C99.2294 9.81409 97.8547 10.1611 96.6662 10.9255" fill="white"/>
                </mask>
                <g mask="url(#mask0_40000394_4294)">
                <path d="M92.0351 1.72165L76.7773 27.412L101.129 41.6044L116.386 15.9141L92.0351 1.72165Z" fill="url(#paint0_linear_40000394_4294)"/>
                </g>
                <mask id="mask1_40000394_4294" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="28" y="0" width="42" height="40">
                <path d="M28.6611 2.55236C28.395 2.72369 28.2176 2.99166 28.2354 3.31675C29.007 3.46611 29.7963 3.32993 30.5724 3.46611C32.1423 3.72969 33.6722 4.23929 35.0736 4.9905C38.5104 6.81361 41.1623 9.78331 43.2776 12.9814C45.7522 16.9132 47.5083 21.2535 48.7943 25.6993C48.9318 26.165 49.0515 26.6394 49.2289 27.0919C49.8054 29.6443 50.546 32.1922 51.872 34.4722C52.8299 36.0625 54.0671 37.543 55.6991 38.4875C57.2423 39.4012 59.0827 39.7834 60.8699 39.6077C64.4663 39.2255 67.8721 36.9148 69.2824 33.5804C68.9631 33.7122 68.6659 33.8792 68.4087 34.1076C67.2469 35.0521 65.8056 35.8121 64.2579 35.7111C62.9231 35.7154 61.7878 34.8852 60.8787 33.9978C58.759 31.6519 57.7346 28.5724 57.0162 25.5675C56.7013 23.7795 56.1204 22.0575 55.6104 20.3178C54.6303 17.4536 53.6325 14.5805 52.2711 11.8656C52.1558 11.6372 52.0361 11.4087 51.8498 11.2286C51.6369 10.4467 51.087 9.82284 50.7012 9.11996C49.5482 7.34077 48.4218 5.4913 46.7987 4.08114C44.2267 1.73964 40.8386 0.281158 37.353 0.0307545C37.0603 0.0131824 36.7676 0 36.4705 0C33.6811 0 30.8873 0.883005 28.6611 2.55676" fill="white"/>
                </mask>
                <g mask="url(#mask1_40000394_4294)">
                <path d="M41.9538 -19.1966L9.26651 26.4686L55.5378 58.9713L88.225 13.306L41.9538 -19.1966Z" fill="url(#paint1_linear_40000394_4294)"/>
                </g>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M68.3422 14.44C71.0917 11.4307 76.125 11.0529 79.4377 13.3417C78.6527 13.4735 77.788 13.4603 77.1272 13.9567C76.2846 14.541 75.6017 15.3142 74.9942 16.1313C74.7724 16.3993 74.7015 16.7463 74.6394 17.0758C74.1782 17.2779 74.054 17.7963 73.8367 18.2004C71.9076 22.3958 70.9276 26.9382 70.0407 31.4411C69.8234 32.1571 69.6549 32.9303 69.2735 33.5717C68.9586 33.7035 68.6571 33.8748 68.3998 34.0988C67.238 35.0433 65.7967 35.8033 64.2535 35.7023C62.9186 35.7023 61.7834 34.8764 60.8743 33.989C62.1958 33.0665 62.7546 31.485 63.1936 30.0177C63.9563 27.4346 64.3022 24.7592 64.861 22.1278C65.5484 19.3997 66.4442 16.5882 68.3466 14.4312" fill="#94C841"/>
                <mask id="mask2_40000394_4294" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="74" y="13" width="20" height="23">
                <path d="M77.1272 13.9567C76.289 14.541 75.6017 15.3142 74.9985 16.1313C74.7768 16.3992 74.7014 16.7419 74.6438 17.0758C75.238 17.6249 75.819 18.196 76.2624 18.8725C77.7214 21.0515 78.5463 23.5555 79.3622 26.0156C80.0363 28.0716 80.2669 30.2944 81.3667 32.1966C82.1782 33.7166 83.5929 34.9599 85.2958 35.3728C87.4776 35.9 89.8014 35.3069 91.6994 34.1955C92.3114 33.7913 93.0032 33.4091 93.3668 32.7458C92.2803 33.0928 91.0253 33.4838 89.9521 32.8819C88.5597 32.056 87.7215 30.5756 87.2204 29.0907C86.7016 27.6235 86.5641 26.0551 86.0718 24.5791C85.4599 22.2112 84.6084 19.8961 83.4288 17.7479C82.5507 16.1884 81.4642 14.7079 80.0097 13.6316C79.8323 13.5174 79.6549 13.3768 79.4465 13.3373C78.666 13.4691 77.7968 13.4559 77.136 13.9523" fill="white"/>
                </mask>
                <g mask="url(#mask2_40000394_4294)">
                <path d="M80.8994 4.59261L63.8901 28.3552L87.0927 44.6535L104.102 20.8909L80.8994 4.59261Z" fill="url(#paint2_linear_40000394_4294)"/>
                </g>
                <defs>
                <linearGradient id="paint0_linear_40000394_4294" x1="101.695" y1="13.0386" x2="91.8334" y2="29.9594" gradientUnits="userSpaceOnUse">
                <stop stop-color="#A2CC3A"/>
                <stop offset="1" stop-color="#71BF47"/>
                </linearGradient>
                <linearGradient id="paint1_linear_40000394_4294" x1="32.999" y1="8.31839" x2="63.0879" y2="29.856" gradientUnits="userSpaceOnUse">
                <stop stop-color="#96C842"/>
                <stop offset="1" stop-color="#369645"/>
                </linearGradient>
                <linearGradient id="paint2_linear_40000394_4294" x1="76.8031" y1="20.3745" x2="90.7779" y2="30.3777" gradientUnits="userSpaceOnUse">
                <stop stop-color="#84BA41"/>
                <stop offset="0.83" stop-color="#439C44"/>
                <stop offset="1" stop-color="#369645"/>
                </linearGradient>
                </defs>
                </svg>
                
              <!-- <img
                  src="assets/logoi.png"
                  alt="Surveillance Icon"
                  class=" me-2"
                  style="width: 179px;
    height: 164px;"
                /> -->
              <div class="sidenav-header d-flex align-items-center">
                <!-- Add the surveillance icon -->
                
                <h2 class="sideNavHeading mb-0">Building Management System</h2>
              </div>
            </mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <div class="form-group" id="loginPadding">
              <mat-form-field appearance="fill" class="w-100">
                <mat-label>Username</mat-label>
                <input matInput type="text" name="username" ngModel required />
                <mat-error
                  *ngIf="loginForm.controls['username']?.errors?.['required'] && loginForm.controls['username']?.touched"
                >
                  Username is required.
                </mat-error>
                <mat-error
                  *ngIf="loginForm.controls['username']?.errors?.['pattern'] && loginForm.controls['username']?.touched"
                >
                  Username must be at least 3 characters long and can include letters, numbers, underscores, and
                  hyphens.
                </mat-error>
              </mat-form-field>
            </div>
            <div class="form-group">
              <mat-form-field appearance="fill" class="w-100">
                <mat-label>Password</mat-label>
                <input matInput type="password" name="password" ngModel required minlength="6" />
                <mat-error *ngIf="loginForm.controls['password']?.invalid && loginForm.controls['password']?.touched">
                  Password is required and must be at least 6 characters long.
                </mat-error>
              </mat-form-field>
            </div>
          </mat-card-content>
          <mat-card-actions>
            <button mat-raised-button color="primary" type="submit" [disabled]="loginForm.invalid"
              class="login-button">Login</button>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>
  </div>
</form>
