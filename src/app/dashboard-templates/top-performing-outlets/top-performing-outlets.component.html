<div class="container-fluid py-4">
  <div class="scroll-container">
    <div class="row g-3">
      <div class="loading-overlay" *ngIf="isLoading">
        <div class="spinner"></div>
      </div>
      <div *ngFor="let outlet of topOutlets" class="col-sm-3 col-12">
        <div class="outlet-card position-relative" 
             [ngClass]="{'cursor-pointer': outlet.rank === 1}"
             (click)="openOutletDialog(outlet)">
 <!-- (click)="outlet.rank === 1 ? openOutletDialog(outlet) : null" -->
          <!-- Rank Badge -->
          <div class="rank-badge" [ngClass]="{
            'rank-1': outlet.rank === 1,
            'rank-2': outlet.rank === 2,
            'rank-3': outlet.rank === 3
          }">#{{ outlet.rank }}</div>

          <!-- Header -->
          <div class="card-header text-center">
            <h6 class="outlet-name mb-0">{{ outlet.name }}</h6>
            <p class="outlet-location text-muted mb-0">
              <i class="bi bi-geo-alt me-1"></i> {{ outlet.location }}
            </p>
          </div>

          <!-- Stats -->
          <div class="outlet-stats mt-3">
            <div class="stat-row stat-blue">
              <div class="stat-left">
                <mat-icon class="icon-blue">how_to_reg</mat-icon>
                <span>Attendance</span>
              </div>
              <div class="stat-value text-primary">{{ outlet.attendance }}%</div>
            </div>

            <div class="stat-row stat-green">
              <div class="stat-left">
                <mat-icon class="icon-green">favorite</mat-icon>
                <span> Google Rating</span>
              </div>
              <div class="stat-value text-success d-flex align-items-center gap-2">
                <span>{{ outlet.rating }}</span>
              </div>
            </div>

            <div class="stat-row stat-yellow">
              <div class="stat-left">
                <mat-icon class="icon-yellow">warning</mat-icon>
                <span>Violations</span>
              </div>
              <div class="stat-value text-warning">{{ outlet.violations }}</div>
            </div>

            <div class="stat-row stat-green">
              <div class="stat-left">
                <mat-icon class="icon-green">attach_money</mat-icon>
                <span>Revenue</span>
              </div>
              <div class="stat-value text-success">{{ outlet.revenue }}</div>
            </div>
          </div>

          <!-- Status -->
          <div class="d-flex justify-content-center mt-3">
            <div class="status-badge" [ngClass]="outlet.statusClass">{{ outlet.status }}</div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
