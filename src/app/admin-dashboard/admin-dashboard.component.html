<div class="admin-content admin-background">
  <div class="container-fluid">

    <!-- Iterate over rows -->
    <div class="row admin-styling" *ngFor="let row of sections">
  <ng-container *ngFor="let section of row">
    <div *ngIf="section.show" [ngClass]="section.colSize">
      <div class="admin-dashboard">
        <!-- Section Header -->
        <div class="analytics-header d-flex align-items-center justify-content-between"
          [ngClass]="{ 'analyticsdetails': section.key === 'overview' }">
          <ng-container *ngIf="section.key === 'overview'">
            <div class="header-left">
              <h2 class="analytics-title">{{ section.title }}</h2>
              <p class="analytics-subtitle">{{ section.subtitle }}</p>
            </div>
            <div class="header-right">
              <div class="time-card">
                <div class="time-row">
                  <span class="label">Opening Time:</span>
                  <span class="value">{{ section.extraData.openTime }}</span>
                </div>
                <div class="time-row">
                  <span class="label">Closing Time:</span>
                  <span class="value">{{ section.extraData.closeTime }}</span>
                </div>
              </div>
            </div>
          </ng-container>

          <ng-container *ngIf="section.key !== 'overview'">
  <div class="header-left">
    <h2 class="analytics-title">{{ section.title }}</h2>
    <p class="analytics-subtitle" *ngIf="section.subtitle">
      {{ section.subtitle }}
    </p>
  </div>

  <!-- Button on right -->
  <a *ngIf="section.button"
     class="text-primary outlet-btn small fw-semibold"
     [class.disabled]="!section.button.enabled"
     (click)="section.button.enabled && section.button.action()">
    {{ section.button.label }}
  </a>
</ng-container>

        </div>

        <!-- Button -->
      

        <!-- Dynamic Component -->
        <ng-container [ngSwitch]="section.component">
          <app-dashboard-filters *ngSwitchCase="'app-dashboard-filters'"></app-dashboard-filters>
          <app-analytics-overview *ngSwitchCase="'app-analytics-overview'"></app-analytics-overview>
          <app-live-footfall-chart *ngSwitchCase="'app-live-footfall-chart'"></app-live-footfall-chart>
          <app-app-violations *ngSwitchCase="'app-app-violations'"></app-app-violations>
          <app-sales-category-chart *ngSwitchCase="'app-sales-category-chart'"></app-sales-category-chart>
          <app-heatmap-chart *ngSwitchCase="'app-heatmap-chart'"></app-heatmap-chart>
          <app-system-health *ngSwitchCase="'app-system-health'"></app-system-health>
          <app-business-insights *ngSwitchCase="'app-business-insights'"></app-business-insights>
          <app-top-performing-outlets *ngSwitchCase="'app-top-performing-outlets'"></app-top-performing-outlets>
          <app-competitor-outlets *ngSwitchCase="'app-competitor-outlets'"></app-competitor-outlets>
        </ng-container>

      </div>
    </div>
  </ng-container>
</div>

  </div>
</div>
